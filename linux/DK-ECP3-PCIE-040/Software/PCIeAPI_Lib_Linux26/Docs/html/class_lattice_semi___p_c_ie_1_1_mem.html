<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Lattice PCIe API Manual: LatticeSemi_PCIe::Mem Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>LatticeSemi_PCIe::Mem Class Reference</h1><code>#include &lt;<a class="el" href="_mem_8h-source.html">Mem.h</a>&gt;</code>
<p>
<p>Inheritance diagram for LatticeSemi_PCIe::Mem:
<p><center><img src="class_lattice_semi___p_c_ie_1_1_mem.png" usemap="#LatticeSemi_PCIe::Mem_map" border="0" alt=""></center>
<map name="LatticeSemi_PCIe::Mem_map">
<area href="class_lattice_semi___p_c_ie_1_1_device.html" alt="LatticeSemi_PCIe::Device" shape="rect" coords="0,0,156,24">
</map>
<a href="class_lattice_semi___p_c_ie_1_1_mem-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_lattice_semi___p_c_ie_1_1_mem.html#a0">Mem</a> (const char *nameStr, size_t size, uint32_t addr, <a class="el" href="class_lattice_semi___p_c_ie_1_1_register_access.html">LatticeSemi_PCIe::RegisterAccess</a> *pRA)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_lattice_semi___p_c_ie_1_1_mem.html#a1">~Mem</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_lattice_semi___p_c_ie_1_1_mem.html#a2">clear</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_lattice_semi___p_c_ie_1_1_mem.html#a3">loadFromFile</a> (char *fName)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_lattice_semi___p_c_ie_1_1_mem.html#a4">saveToFile</a> (char *fName)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_lattice_semi___p_c_ie_1_1_mem.html#a5">test</a> (size_t len=0)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_lattice_semi___p_c_ie_1_1_mem.html#a6">fill</a> (uint8_t val)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_lattice_semi___p_c_ie_1_1_mem.html#a7">fill</a> (uint8_t val, uint32_t offset, size_t len)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_lattice_semi___p_c_ie_1_1_mem.html#a8">get</a> (uint32_t offset, size_t num, void *buf)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_lattice_semi___p_c_ie_1_1_mem.html#a9">set</a> (uint32_t offset, size_t num, void *buf)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_lattice_semi___p_c_ie_1_1_mem.html#a10">getLen</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_lattice_semi___p_c_ie_1_1_mem.html#a11">setAccessWidth</a> (uint8_t dataSize)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Specific definition of a Lattice memory device IP module.<p>
This class inherits hardware access from the generic <a class="el" href="class_lattice_semi___p_c_ie_1_1_device.html">Device</a> class. The main purpose of this class is to provide utility methods that operate on a linear memory array in hardware to do such operations as clearing memory, filling with a pattern, reading a block of memory, etc. All of which are primarily used in testing routines to verify memory access and memory contents after a transfer. 
<p>

<p>
Definition at line <a class="el" href="_mem_8h-source.html#l00041">41</a> of file <a class="el" href="_mem_8h-source.html">Mem.h</a>.<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="LatticeSemi_PCIe::Mem::Mem"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">Mem::Mem           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>nameStr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>uint32_t&nbsp;</td>
          <td class="mdname" nowrap> <em>baseAddr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="class_lattice_semi___p_c_ie_1_1_register_access.html">LatticeSemi_PCIe::RegisterAccess</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>pRA</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Construct a generic Memory device. Usually used to represent an EBR (Embedded Block RAM) in the FPGA IP. It could be used to interface to any memory mapped object. Theis class provides helper functions for testing and loading and clearing the memory contents. The memory, by default, is accessed using 32 bit accesses. If the device does not support 32 bit or other size accesses are to be tested, call <a class="el" href="class_lattice_semi___p_c_ie_1_1_mem.html#a11">setAccessWidth()</a>. <p>
Register access to the IP in the FPGA device is through the LSC_PCIe object which uses the lscpcie device driver to access the real hardware and do reads/writes.<p>
The base class <a class="el" href="class_lattice_semi___p_c_ie_1_1_device.html">Device</a> is initialized to hold the standard parameters.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>nameStr</em>&nbsp;</td><td>the name of the FPGA device for unique naming </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>the number of bytes in the memory to avoid bounds issues </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>baseAddr</em>&nbsp;</td><td>the physical bus address the device registers start at </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pRegs</em>&nbsp;</td><td>pointer to a <a class="el" href="class_lattice_semi___p_c_ie_1_1_register_access.html">RegisterAccess</a> object for accessing the hardware </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_mem_8cpp-source.html#l00044">44</a> of file <a class="el" href="_mem_8cpp-source.html">Mem.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="LatticeSemi_PCIe::Mem::~Mem"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">Mem::~<a class="el" href="class_lattice_semi___p_c_ie_1_1_mem.html">Mem</a>           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destroy the specific FPGA device. <a class="el" href="class_lattice_semi___p_c_ie_1_1_device.html">Device</a> interrupts are disabled. Register access object to the SC device is destroyed. The device should no longer be accessed using any methods. All references to the device will now be invalid. 
<p>
Definition at line <a class="el" href="_mem_8cpp-source.html#l00062">62</a> of file <a class="el" href="_mem_8cpp-source.html">Mem.cpp</a>.    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a2" doxytag="LatticeSemi_PCIe::Mem::clear"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool Mem::clear           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Memory Clear Test. Clear entire contents of memory (EBR) to 00's. Full address range is cleared. The memory size is known from the length parameter passed when the memory object was instantiated. 
<p>
Definition at line <a class="el" href="_mem_8cpp-source.html#l00095">95</a> of file <a class="el" href="_mem_8cpp-source.html">Mem.cpp</a>.
<p>
References <a class="el" href="_mem_8cpp-source.html#l00445">set()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="LatticeSemi_PCIe::Mem::fill"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool Mem::fill           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">uint8_t&nbsp;</td>
          <td class="mdname" nowrap> <em>val</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>uint32_t&nbsp;</td>
          <td class="mdname" nowrap> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>flen</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Memory Fill. Test filling a range of memory bytes with the same value. The address range is specified with the offset and len. If offset + len &gt; device's memory size, false is returned.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>val</em>&nbsp;</td><td>the byte value to write into all the memory locations. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>the starting location in <a class="el" href="class_lattice_semi___p_c_ie_1_1_mem.html">Mem</a> device to begin filling </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flen</em>&nbsp;</td><td>the nubmer of bytes to write</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if memory written, false if address range error </dd></dl>

<p>
Definition at line <a class="el" href="_mem_8cpp-source.html#l00143">143</a> of file <a class="el" href="_mem_8cpp-source.html">Mem.cpp</a>.
<p>
References <a class="el" href="_mem_8cpp-source.html#l00445">set()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="LatticeSemi_PCIe::Mem::fill"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool Mem::fill           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">uint8_t&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>val</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Memory Fill. Test filling all memory bytes with the same value. Full address range is tested with various patterns. The memory size is known from the length parameter passed when the memory object was instantiated.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>val</em>&nbsp;</td><td>the byte value to write into all the memory locations. </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_mem_8cpp-source.html#l00117">117</a> of file <a class="el" href="_mem_8cpp-source.html">Mem.cpp</a>.
<p>
References <a class="el" href="_mem_8cpp-source.html#l00445">set()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="LatticeSemi_PCIe::Mem::get"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool Mem::get           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">uint32_t&nbsp;</td>
          <td class="mdname" nowrap> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>num</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>buf</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read a block of bytes from memory into a users buffer. Max size is determined by the length specified when creating the object.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>byte location to start writing at </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num</em>&nbsp;</td><td>number of bytes to read from memory into buf </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buf</em>&nbsp;</td><td>location of storage for data read from device memory </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if successful; false if number to read is greater than memory size </dd></dl>

<p>
Definition at line <a class="el" href="_mem_8cpp-source.html#l00482">482</a> of file <a class="el" href="_mem_8cpp-source.html">Mem.cpp</a>.
<p>
References <a class="el" href="_device_8cpp-source.html#l00125">LatticeSemi_PCIe::Device::read16()</a>, <a class="el" href="_device_8cpp-source.html#l00159">LatticeSemi_PCIe::Device::read32()</a>, and <a class="el" href="_device_8cpp-source.html#l00090">LatticeSemi_PCIe::Device::read8()</a>.
<p>
Referenced by <a class="el" href="_mem_8cpp-source.html#l00397">saveToFile()</a>, and <a class="el" href="_mem_8cpp-source.html#l00166">test()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="LatticeSemi_PCIe::Mem::getLen"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">size_t Mem::getLen           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return the length of the memory device, in bytes. <dl compact><dt><b>Returns:</b></dt><dd>size of the device (as specified in the constructor). </dd></dl>

<p>
Definition at line <a class="el" href="_mem_8cpp-source.html#l00072">72</a> of file <a class="el" href="_mem_8cpp-source.html">Mem.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="LatticeSemi_PCIe::Mem::loadFromFile"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool Mem::loadFromFile           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>fName</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Fill memory with contents from a file. A file, up to memory length bytes, is read in and written into the memory device. Writing always starts at byte offset 0 and continues for the size of the file or the maximum length of the memory, whichever is smaller.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fName</em>&nbsp;</td><td>string containing file name (standard POSIX file name) </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if file loaded into memory; false if errors opening, reading file </dd></dl>

<p>
Definition at line <a class="el" href="_mem_8cpp-source.html#l00352">352</a> of file <a class="el" href="_mem_8cpp-source.html">Mem.cpp</a>.
<p>
References <a class="el" href="_mem_8cpp-source.html#l00445">set()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="LatticeSemi_PCIe::Mem::saveToFile"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool Mem::saveToFile           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>fName</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Write EBR memory contents to a file. A file of EBR_SIZE bytes is written with the bytes in EBR. Writing always starts from byte offset 0 and continues for the size of the EBR_SIZE. 
<p>
Definition at line <a class="el" href="_mem_8cpp-source.html#l00397">397</a> of file <a class="el" href="_mem_8cpp-source.html">Mem.cpp</a>.
<p>
References <a class="el" href="_mem_8cpp-source.html#l00482">get()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="LatticeSemi_PCIe::Mem::set"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool Mem::set           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">uint32_t&nbsp;</td>
          <td class="mdname" nowrap> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>num</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>buf</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Load a block of bytes into the memory. Max size is determined by the length specified when creating the object. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>byte location to start writing at </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num</em>&nbsp;</td><td>number of bytes to write into memory from buf </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buf</em>&nbsp;</td><td>location of user's data to write into memory </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if successful; false if number to write is greater than memory size </dd></dl>

<p>
Definition at line <a class="el" href="_mem_8cpp-source.html#l00445">445</a> of file <a class="el" href="_mem_8cpp-source.html">Mem.cpp</a>.
<p>
References <a class="el" href="_device_8cpp-source.html#l00143">LatticeSemi_PCIe::Device::write16()</a>, <a class="el" href="_device_8cpp-source.html#l00177">LatticeSemi_PCIe::Device::write32()</a>, and <a class="el" href="_device_8cpp-source.html#l00109">LatticeSemi_PCIe::Device::write8()</a>.
<p>
Referenced by <a class="el" href="_mem_8cpp-source.html#l00095">clear()</a>, <a class="el" href="_mem_8cpp-source.html#l00117">fill()</a>, <a class="el" href="_mem_8cpp-source.html#l00352">loadFromFile()</a>, and <a class="el" href="_mem_8cpp-source.html#l00166">test()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a11" doxytag="LatticeSemi_PCIe::Mem::setAccessWidth"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void Mem::setAccessWidth           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">uint8_t&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>size</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set the width of data accesses to the memory device. Default is 32 bit , but if the memory has restrictions and can't be accessed on 32 bit boundaries then call this method to change the access method: read8/16/32. 
<p>
Definition at line <a class="el" href="_mem_8cpp-source.html#l00083">83</a> of file <a class="el" href="_mem_8cpp-source.html">Mem.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="LatticeSemi_PCIe::Mem::test"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool Mem::test           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">size_t&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>len</em> = <code>0</code>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Memory Test the contents of all locations. Full address range is tested with various patterns. <dl compact><dt><b>Returns:</b></dt><dd>true if all locations pass all tests; false if any error detected </dd></dl>

<p>
Definition at line <a class="el" href="_mem_8cpp-source.html#l00166">166</a> of file <a class="el" href="_mem_8cpp-source.html">Mem.cpp</a>.
<p>
References <a class="el" href="_mem_8cpp-source.html#l00482">get()</a>, and <a class="el" href="_mem_8cpp-source.html#l00445">set()</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Wed Jul 16 12:05:27 2008 for Lattice PCIe API Manual by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
