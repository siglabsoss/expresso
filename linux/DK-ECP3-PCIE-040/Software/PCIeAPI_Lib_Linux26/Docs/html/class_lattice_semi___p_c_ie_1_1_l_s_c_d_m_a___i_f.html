<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Lattice PCIe API Manual: LatticeSemi_PCIe::LSCDMA_IF Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>LatticeSemi_PCIe::LSCDMA_IF Class Reference</h1><code>#include &lt;<a class="el" href="_l_s_c_d_m_a___i_f_8h-source.html">LSCDMA_IF.h</a>&gt;</code>
<p>
<p>Inheritance diagram for LatticeSemi_PCIe::LSCDMA_IF:
<p><center><img src="class_lattice_semi___p_c_ie_1_1_l_s_c_d_m_a___i_f.png" usemap="#LatticeSemi_PCIe::LSCDMA_IF_map" border="0" alt=""></center>
<map name="LatticeSemi_PCIe::LSCDMA_IF_map">
<area href="class_lattice_semi___p_c_ie_1_1_p_c_ie___i_f.html" alt="LatticeSemi_PCIe::PCIe_IF" shape="rect" coords="0,56,204,80">
<area href="class_lattice_semi___p_c_ie_1_1_register_access.html" alt="LatticeSemi_PCIe::RegisterAccess" shape="rect" coords="0,0,204,24">
</map>
<a href="class_lattice_semi___p_c_ie_1_1_l_s_c_d_m_a___i_f-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_lattice_semi___p_c_ie_1_1_l_s_c_d_m_a___i_f.html#a0">LSCDMA_IF</a> (const char *pBoardID, const char *chan, uint32_t devNum=1)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_lattice_semi___p_c_ie_1_1_l_s_c_d_m_a___i_f.html#a1">~LSCDMA_IF</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_lattice_semi___p_c_ie_1_1_l_s_c_d_m_a___i_f.html#a2">getDriverDMAInfo</a> (const <a class="el" href="struct_d_m_a_resource_info__t.html">DMAResourceInfo_t</a> **pExtra)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_lattice_semi___p_c_ie_1_1_l_s_c_d_m_a___i_f.html#a3">getDriverDMAInfoStr</a> (string &amp;outs)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_lattice_semi___p_c_ie_1_1_l_s_c_d_m_a___i_f.html#a4">getSysDmaBufSize</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_lattice_semi___p_c_ie_1_1_l_s_c_d_m_a___i_f.html#a5">writeSysDmaBuf</a> (uint32_t *pData, size_t len=0)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_lattice_semi___p_c_ie_1_1_l_s_c_d_m_a___i_f.html#a6">readSysDmaBuf</a> (uint32_t *pData, size_t len=0)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_lattice_semi___p_c_ie_1_1_l_s_c_d_m_a___i_f.html#a7">ReadFromDevice</a> (void *pBuf, size_t len)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_lattice_semi___p_c_ie_1_1_l_s_c_d_m_a___i_f.html#a8">WriteToDevice</a> (void *pBuf, size_t len)</td></tr>

<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p0" doxytag="LatticeSemi_PCIe::LSCDMA_IF::DMAInfo"></a>
<a class="el" href="struct_d_m_a_resource_info__t.html">DMAResourceInfo_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>DMAInfo</b></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Interface to the Lattice Windows WDM lscdma device driver. The lscdma driver provides the following features: <ul>
<li>
basic register read/write access (through <a class="el" href="class_lattice_semi___p_c_ie_1_1_p_c_ie___i_f.html">PCIe_IF</a>) </li>
<li>
INTx or MSI interrupt support (ISR) </li>
<li>
<a class="el" href="class_lattice_semi___p_c_ie_1_1_s_g_d_m_a.html">SGDMA</a> IP core configuration, 1 RD chan, 1 WR chan. </li>
<li>
Common Buffer DMA memory allocation, 64kB w/ read/write access from user space </li>
<li>
Extra driver information </li>
</ul>

<p>

<p>
Definition at line <a class="el" href="_l_s_c_d_m_a___i_f_8h-source.html#l00040">40</a> of file <a class="el" href="_l_s_c_d_m_a___i_f_8h-source.html">LSCDMA_IF.h</a>.<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="LatticeSemi_PCIe::LSCDMA_IF::LSCDMA_IF"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">LSCDMA_IF::LSCDMA_IF           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>pBoardID</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>chan</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>uint32_t&nbsp;</td>
          <td class="mdname" nowrap> <em>devNum</em> = <code>1</code></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Open an interface to the lscdma device driver. The caller must supply the board ID, the DMA channel and the instance number (which board 1st, 2nd, 3rd, etc) to open.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pBoardID</em>&nbsp;</td><td>string containing PCI DEV_VEND ID of board to attach to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>chan</em>&nbsp;</td><td>string containing the channel to open, such as "img_mem", NULL = just register access </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>devNum</em>&nbsp;</td><td>instance number of board to attach to (1st, 2nd, ...) </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_l_s_c_d_m_a___i_f_8cpp-source.html#l00041">41</a> of file <a class="el" href="_l_s_c_d_m_a___i_f_8cpp-source.html">LSCDMA_IF.cpp</a>.
<p>
References <a class="el" href="_l_s_c_d_m_a___i_f_8cpp-source.html#l00099">getDriverDMAInfo()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="LatticeSemi_PCIe::LSCDMA_IF::~LSCDMA_IF"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">LSCDMA_IF::~<a class="el" href="class_lattice_semi___p_c_ie_1_1_l_s_c_d_m_a___i_f.html">LSCDMA_IF</a>           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Delete an instance of an <a class="el" href="class_lattice_semi___p_c_ie_1_1_s_g_d_m_a.html">SGDMA</a> interface object. 
<p>
Definition at line <a class="el" href="_l_s_c_d_m_a___i_f_8cpp-source.html#l00072">72</a> of file <a class="el" href="_l_s_c_d_m_a___i_f_8cpp-source.html">LSCDMA_IF.cpp</a>.    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a2" doxytag="LatticeSemi_PCIe::LSCDMA_IF::getDriverDMAInfo"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool LSCDMA_IF::getDriverDMAInfo           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="struct_d_m_a_resource_info__t.html">DMAResourceInfo_t</a> **&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pInfo</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return the extra device driver information structure. This includes the DMA memory buffer info, PCI bus/dev/func address. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pInfo</em>&nbsp;</td><td>user's pointer that will point to the internal driver structure </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true (info obtained in constructor so always present) </dd></dl>
<dl compact><dt><b>Note:</b></dt><dd>Do not modify the contents of the structure! It is read only. </dd></dl>

<p>
Definition at line <a class="el" href="_l_s_c_d_m_a___i_f_8cpp-source.html#l00099">99</a> of file <a class="el" href="_l_s_c_d_m_a___i_f_8cpp-source.html">LSCDMA_IF.cpp</a>.
<p>
References <a class="el" href="lscdma_2_ioctl_8h-source.html#l00131">IOCTL_LSCDMA_GET_DMA_INFO</a>.
<p>
Referenced by <a class="el" href="_l_s_c_d_m_a___i_f_8cpp-source.html#l00259">getDriverDMAInfoStr()</a>, <a class="el" href="_l_s_c_d_m_a___i_f_8cpp-source.html#l00041">LSCDMA_IF()</a>, and <a class="el" href="_s_g_d_m_a_8cpp-source.html#l00044">LatticeSemi_PCIe::SGDMA::SGDMA()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="LatticeSemi_PCIe::LSCDMA_IF::getDriverDMAInfoStr"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool LSCDMA_IF::getDriverDMAInfoStr           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">string &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>outs</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return a string containing additional information (beyond that provided by <a class="el" href="class_lattice_semi___p_c_ie_1_1_p_c_ie___i_f.html">PCIe_IF</a>) about the driver and device, such as the device bus, function and device numbers, the DMA buffer addresses, etc. <dl compact><dt><b>See also:</b></dt><dd><a class="el" href="struct_d_m_a_resource_info__t.html">DMAResourceInfo_t</a> </dd></dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if successful; false if error </dd></dl>

<p>
Definition at line <a class="el" href="_l_s_c_d_m_a___i_f_8cpp-source.html#l00259">259</a> of file <a class="el" href="_l_s_c_d_m_a___i_f_8cpp-source.html">LSCDMA_IF.cpp</a>.
<p>
References <a class="el" href="lscdma_2_ioctl_8h-source.html#l00037">DMAResourceInfo_t::busNum</a>, <a class="el" href="lscdma_2_ioctl_8h-source.html#l00038">DMAResourceInfo_t::deviceNum</a>, <a class="el" href="lscdma_2_ioctl_8h-source.html#l00035">DMAResourceInfo_t::devID</a>, <a class="el" href="lscdma_2_ioctl_8h-source.html#l00045">DMAResourceInfo_t::DmaAddr64</a>, <a class="el" href="lscdma_2_ioctl_8h-source.html#l00044">DMAResourceInfo_t::DmaBufSize</a>, <a class="el" href="lscdma_2_ioctl_8h-source.html#l00046">DMAResourceInfo_t::DmaPhyAddrHi</a>, <a class="el" href="lscdma_2_ioctl_8h-source.html#l00047">DMAResourceInfo_t::DmaPhyAddrLo</a>, <a class="el" href="lscdma_2_ioctl_8h-source.html#l00039">DMAResourceInfo_t::functionNum</a>, <a class="el" href="_l_s_c_d_m_a___i_f_8cpp-source.html#l00099">getDriverDMAInfo()</a>, <a class="el" href="lscdma_2_ioctl_8h-source.html#l00043">DMAResourceInfo_t::hasDmaBuf</a>, and <a class="el" href="lscdma_2_ioctl_8h-source.html#l00040">DMAResourceInfo_t::UINumber</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="LatticeSemi_PCIe::LSCDMA_IF::getSysDmaBufSize"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">size_t LSCDMA_IF::getSysDmaBufSize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return the size of the kernel buffer allocated for Common Buffer DMA type transfers. The value returned is from the driver info obtained by an IOCTL call during class creation. <dl compact><dt><b>Returns:</b></dt><dd>the size is in bytes </dd></dl>

<p>
Definition at line <a class="el" href="_l_s_c_d_m_a___i_f_8cpp-source.html#l00086">86</a> of file <a class="el" href="_l_s_c_d_m_a___i_f_8cpp-source.html">LSCDMA_IF.cpp</a>.
<p>
References <a class="el" href="lscdma_2_ioctl_8h-source.html#l00044">DMAResourceInfo_t::DmaBufSize</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="LatticeSemi_PCIe::LSCDMA_IF::ReadFromDevice"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool LSCDMA_IF::ReadFromDevice           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void *&nbsp;</td>
          <td class="mdname" nowrap> <em>pBuf</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>len</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read a number of bytes from the <a class="el" href="class_lattice_semi___p_c_ie_1_1_s_g_d_m_a.html">SGDMA</a> channel (device). Uses the OS API ReadFile() to invoke the driver and cause the necessary parameters to be passed to the driver. This call blocks until the driver has moved all requested data. It operates like a normal file read operation.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pBuf</em>&nbsp;</td><td>where to store data DMA'ed from device </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>number of bytes to transfer in DMA operation </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_l_s_c_d_m_a___i_f_8cpp-source.html#l00208">208</a> of file <a class="el" href="_l_s_c_d_m_a___i_f_8cpp-source.html">LSCDMA_IF.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="LatticeSemi_PCIe::LSCDMA_IF::readSysDmaBuf"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool LSCDMA_IF::readSysDmaBuf           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">uint32_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>pBuf</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>len</em> = <code>0</code></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read data from the system DMA buffer into the user space. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pBuf</em>&nbsp;</td><td>pointer to where to store device data in user space </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>the number of bytes to read (not DWs) </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd></dd></dl>

<p>
Definition at line <a class="el" href="_l_s_c_d_m_a___i_f_8cpp-source.html#l00160">160</a> of file <a class="el" href="_l_s_c_d_m_a___i_f_8cpp-source.html">LSCDMA_IF.cpp</a>.
<p>
References <a class="el" href="lscdma_2_ioctl_8h-source.html#l00044">DMAResourceInfo_t::DmaBufSize</a>, <a class="el" href="lscdma_2_ioctl_8h-source.html#l00043">DMAResourceInfo_t::hasDmaBuf</a>, and <a class="el" href="lscdma_2_ioctl_8h-source.html#l00100">IOCTL_LSCDMA_READ_SYSDMABUF</a>.
<p>
Referenced by <a class="el" href="_s_g_d_m_a_8cpp-source.html#l00929">LatticeSemi_PCIe::SGDMA::checkDrvrCB()</a>, <a class="el" href="_s_g_d_m_a_8cpp-source.html#l00802">LatticeSemi_PCIe::SGDMA::getDrvrCB()</a>, and <a class="el" href="_s_g_d_m_a_8cpp-source.html#l00968">LatticeSemi_PCIe::SGDMA::showDrvrCB()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="LatticeSemi_PCIe::LSCDMA_IF::writeSysDmaBuf"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool LSCDMA_IF::writeSysDmaBuf           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">uint32_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>pBuf</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>len</em> = <code>0</code></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Write data for user space into the system DMA buffer for access by the device. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pBuf</em>&nbsp;</td><td>pointer to user's data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>the number of bytes (not DWs) </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd></dd></dl>

<p>
Definition at line <a class="el" href="_l_s_c_d_m_a___i_f_8cpp-source.html#l00118">118</a> of file <a class="el" href="_l_s_c_d_m_a___i_f_8cpp-source.html">LSCDMA_IF.cpp</a>.
<p>
References <a class="el" href="lscdma_2_ioctl_8h-source.html#l00044">DMAResourceInfo_t::DmaBufSize</a>, <a class="el" href="lscdma_2_ioctl_8h-source.html#l00043">DMAResourceInfo_t::hasDmaBuf</a>, and <a class="el" href="lscdma_2_ioctl_8h-source.html#l00108">IOCTL_LSCDMA_WRITE_SYSDMABUF</a>.
<p>
Referenced by <a class="el" href="_s_g_d_m_a_8cpp-source.html#l00914">LatticeSemi_PCIe::SGDMA::clearDrvrCB()</a>, <a class="el" href="_s_g_d_m_a_8cpp-source.html#l00858">LatticeSemi_PCIe::SGDMA::fillDrvrCB()</a>, <a class="el" href="_s_g_d_m_a_8cpp-source.html#l00890">LatticeSemi_PCIe::SGDMA::fillPatternDrvrCB()</a>, and <a class="el" href="_s_g_d_m_a_8cpp-source.html#l00823">LatticeSemi_PCIe::SGDMA::setDrvrCB()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="LatticeSemi_PCIe::LSCDMA_IF::WriteToDevice"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool LSCDMA_IF::WriteToDevice           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void *&nbsp;</td>
          <td class="mdname" nowrap> <em>pBuf</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>len</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Write a number of bytes to the <a class="el" href="class_lattice_semi___p_c_ie_1_1_s_g_d_m_a.html">SGDMA</a> channel (device). Uses the OS API WriteFile() to invoke the driver and cause the necessary parameters to be passed to the driver. This call blocks until the driver has moved all requested data. It operates like a normal file write operation.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pBuf</em>&nbsp;</td><td>where to get the data to DMA to the device </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>number of bytes to transfer in DMA operation </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_l_s_c_d_m_a___i_f_8cpp-source.html#l00235">235</a> of file <a class="el" href="_l_s_c_d_m_a___i_f_8cpp-source.html">LSCDMA_IF.cpp</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Wed Jul 16 12:05:27 2008 for Lattice PCIe API Manual by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
