<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Lattice PCIeDMA Device Driver : Ioctl.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>Ioctl.h File Reference</h1><code>#include &lt;asm/ioctl.h&gt;</code><br>
<code>#include "<a class="el" href="sys_defs_8h-source.html">sysDefs.h</a>"</code><br>

<p>
<a href="_ioctl_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_p_c_i___b_a_r__t.html">PCI_BAR_t</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_p_c_i_resource_info__t.html">PCIResourceInfo_t</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_d_m_a_resource_info__t.html">DMAResourceInfo_t</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_d_m_a_timers__t.html">DMATimers_t</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_d_m_a_burst_sizes__t.html">DMABurstSizes_t</a></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a0" doxytag="Ioctl.h::MAX_PCI_BARS"></a>
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MAX_PCI_BARS</b>&nbsp;&nbsp;&nbsp;7</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a1" doxytag="Ioctl.h::MAX_DRIVER_NAME_LEN"></a>
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MAX_DRIVER_NAME_LEN</b>&nbsp;&nbsp;&nbsp;128</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a2" doxytag="Ioctl.h::MAX_DRIVER_VERSION_LEN"></a>
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MAX_DRIVER_VERSION_LEN</b>&nbsp;&nbsp;&nbsp;128</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_ioctl_8h.html#a3">LSCPCIE_MAGIC</a>&nbsp;&nbsp;&nbsp;'L'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_ioctl_8h.html#a4">IOCTL_LSCPCIE_GET_VERSION_INFO</a>&nbsp;&nbsp;&nbsp;_IOR(LSCPCIE_MAGIC, 0, DriverVerStr_t)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_ioctl_8h.html#a5">IOCTL_LSCPCIE_GET_RESOURCES</a>&nbsp;&nbsp;&nbsp;_IOR(LSCPCIE_MAGIC, 1, <a class="el" href="struct_p_c_i_resource_info__t.html">PCIResourceInfo_t</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_ioctl_8h.html#a6">IOCTL_LSCPCIE_SET_BAR</a>&nbsp;&nbsp;&nbsp;_IOW(LSCPCIE_MAGIC, 2, int)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_ioctl_8h.html#a7">IOCTL_LSCDMA_READ_SYSDMABUF</a>&nbsp;&nbsp;&nbsp;_IOR(LSCPCIE_MAGIC, 6, int)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_ioctl_8h.html#a8">IOCTL_LSCDMA_WRITE_SYSDMABUF</a>&nbsp;&nbsp;&nbsp;_IOW(LSCPCIE_MAGIC, 7, int)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_ioctl_8h.html#a9">IOCTL_LSCDMA_GET_DMA_TIMERS</a>&nbsp;&nbsp;&nbsp;_IOR(LSCPCIE_MAGIC, 8, <a class="el" href="struct_d_m_a_timers__t.html">DMATimers_t</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_ioctl_8h.html#a10">IOCTL_LSCDMA_SET_BURST_SIZES</a>&nbsp;&nbsp;&nbsp;_IOW(LSCPCIE_MAGIC, 9, <a class="el" href="struct_d_m_a_burst_sizes__t.html">DMABurstSizes_t</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_ioctl_8h.html#a11">IOCTL_LSCDMA_GET_DMA_INFO</a>&nbsp;&nbsp;&nbsp;_IOR(LSCPCIE_MAGIC, 10, <a class="el" href="struct_d_m_a_resource_info__t.html">DMAResourceInfo_t</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a12" doxytag="Ioctl.h::IOCTL_LSCDMA_MAX_NR"></a>
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>IOCTL_LSCDMA_MAX_NR</b>&nbsp;&nbsp;&nbsp;10</td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a13" doxytag="Ioctl.h::DriverVerStr_t"></a>
typedef char&nbsp;</td><td class="memItemRight" valign="bottom"><b>DriverVerStr_t</b> [MAX_DRIVER_NAME_LEN]</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Definition of the interface between the kernel driver and user space. All legal IOCTL calls are defined here, and all structures passed in IOCTL and other system calls are defined here. The user space application and kernel code (this driver) must agree on the exact definitions of structures and parameter sizes or the driver could crash. <p>
Only things defined in this file can be accessed/used by User Space code. Anything defined in any other file of this driver is strictly for kernel space use only.
<p>
Definition in file <a class="el" href="_ioctl_8h-source.html">Ioctl.h</a>.<hr><h2>Define Documentation</h2>
<a class="anchor" name="a11" doxytag="Ioctl.h::IOCTL_LSCDMA_GET_DMA_INFO"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define IOCTL_LSCDMA_GET_DMA_INFO&nbsp;&nbsp;&nbsp;_IOR(LSCPCIE_MAGIC, 10, <a class="el" href="struct_d_m_a_resource_info__t.html">DMAResourceInfo_t</a>)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
IO_CTL used to get additional information from in the driver back to user space applications. This info is SGDMA driver specific. Use for common buffer DMA address in user space. See <a class="el" href="struct_d_m_a_resource_info__t.html">DMAResourceInfo_t</a>. 
<p>
Definition at line <a class="el" href="_ioctl_8h-source.html#l00203">203</a> of file <a class="el" href="_ioctl_8h-source.html">Ioctl.h</a>.
<p>
Referenced by <a class="el" href="_main_8c-source.html#l00929">lscdma_ioctl()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="Ioctl.h::IOCTL_LSCDMA_GET_DMA_TIMERS"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define IOCTL_LSCDMA_GET_DMA_TIMERS&nbsp;&nbsp;&nbsp;_IOR(LSCPCIE_MAGIC, 8, <a class="el" href="struct_d_m_a_timers__t.html">DMATimers_t</a>)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read back the timers used for computing DMA thruput, ulong[0]=write, [1]=read NOT CURRENTLY IMPLEMENTED in Hdw or driver. 
<p>
Definition at line <a class="el" href="_ioctl_8h-source.html#l00187">187</a> of file <a class="el" href="_ioctl_8h-source.html">Ioctl.h</a>.
<p>
Referenced by <a class="el" href="_main_8c-source.html#l00929">lscdma_ioctl()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="Ioctl.h::IOCTL_LSCDMA_READ_SYSDMABUF"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define IOCTL_LSCDMA_READ_SYSDMABUF&nbsp;&nbsp;&nbsp;_IOR(LSCPCIE_MAGIC, 6, int)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read into user supplied data buffer the contents of the common DMA buffer allocated by the driver. note that transfer size is specified as an int but its really more like 16-64KB 
<p>
Definition at line <a class="el" href="_ioctl_8h-source.html#l00172">172</a> of file <a class="el" href="_ioctl_8h-source.html">Ioctl.h</a>.
<p>
Referenced by <a class="el" href="_main_8c-source.html#l00929">lscdma_ioctl()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="Ioctl.h::IOCTL_LSCDMA_SET_BURST_SIZES"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define IOCTL_LSCDMA_SET_BURST_SIZES&nbsp;&nbsp;&nbsp;_IOW(LSCPCIE_MAGIC, 9, <a class="el" href="struct_d_m_a_burst_sizes__t.html">DMABurstSizes_t</a>)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set the burst sizes for the DMA Write and Read, ulong[0]=write, [1]=read NOT CURRENTLY IMPLEMENTED in driver. 
<p>
Definition at line <a class="el" href="_ioctl_8h-source.html#l00194">194</a> of file <a class="el" href="_ioctl_8h-source.html">Ioctl.h</a>.
<p>
Referenced by <a class="el" href="_main_8c-source.html#l00929">lscdma_ioctl()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="Ioctl.h::IOCTL_LSCDMA_WRITE_SYSDMABUF"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define IOCTL_LSCDMA_WRITE_SYSDMABUF&nbsp;&nbsp;&nbsp;_IOW(LSCPCIE_MAGIC, 7, int)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Write user supplied data buffer into the common DMA buffer allocated by the driver. note that transfer size is specified as an int but its really more like 16-64KB 
<p>
Definition at line <a class="el" href="_ioctl_8h-source.html#l00180">180</a> of file <a class="el" href="_ioctl_8h-source.html">Ioctl.h</a>.
<p>
Referenced by <a class="el" href="_main_8c-source.html#l00929">lscdma_ioctl()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="Ioctl.h::IOCTL_LSCPCIE_GET_RESOURCES"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define IOCTL_LSCPCIE_GET_RESOURCES&nbsp;&nbsp;&nbsp;_IOR(LSCPCIE_MAGIC, 1, <a class="el" href="struct_p_c_i_resource_info__t.html">PCIResourceInfo_t</a>)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This IO_CTL is used to get PCI and driver information from the driver back to user space applications. 
<p>
Definition at line <a class="el" href="_ioctl_8h-source.html#l00154">154</a> of file <a class="el" href="_ioctl_8h-source.html">Ioctl.h</a>.
<p>
Referenced by <a class="el" href="_main_8c-source.html#l00929">lscdma_ioctl()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="Ioctl.h::IOCTL_LSCPCIE_GET_VERSION_INFO"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define IOCTL_LSCPCIE_GET_VERSION_INFO&nbsp;&nbsp;&nbsp;_IOR(LSCPCIE_MAGIC, 0, DriverVerStr_t)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This IO_CTL is used to get PCI driver name and version back to user space applications. 
<p>
Definition at line <a class="el" href="_ioctl_8h-source.html#l00148">148</a> of file <a class="el" href="_ioctl_8h-source.html">Ioctl.h</a>.
<p>
Referenced by <a class="el" href="_main_8c-source.html#l00929">lscdma_ioctl()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="Ioctl.h::IOCTL_LSCPCIE_SET_BAR"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define IOCTL_LSCPCIE_SET_BAR&nbsp;&nbsp;&nbsp;_IOW(LSCPCIE_MAGIC, 2, int)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This IO_CTL is used to set the BAR number that is mapped in with the MMAP command. 
<p>
Definition at line <a class="el" href="_ioctl_8h-source.html#l00159">159</a> of file <a class="el" href="_ioctl_8h-source.html">Ioctl.h</a>.
<p>
Referenced by <a class="el" href="_main_8c-source.html#l00929">lscdma_ioctl()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="Ioctl.h::LSCPCIE_MAGIC"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define LSCPCIE_MAGIC&nbsp;&nbsp;&nbsp;'L'          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
IOCTL Operations. Use these defines when performing an ioctl operation to a device. 
<p>
Definition at line <a class="el" href="_ioctl_8h-source.html#l00142">142</a> of file <a class="el" href="_ioctl_8h-source.html">Ioctl.h</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Wed Jul 16 12:05:24 2008 for Lattice PCIeDMA Device Driver  by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
