<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Lattice PCIeDMA Device Driver : Devices.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>Devices.c File Reference</h1><code>#include "<a class="el" href="lscdma_8h-source.html">lscdma.h</a>"</code><br>

<p>
<a href="_devices_8c-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">UCHAR&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_devices_8c.html#a0">rdReg8</a> (<a class="el" href="struct_p_c_i_e___board.html">pcie_board_t</a> *pBrd, ULONG offset)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">USHORT&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_devices_8c.html#a1">rdReg16</a> (<a class="el" href="struct_p_c_i_e___board.html">pcie_board_t</a> *pBrd, ULONG offset)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">ULONG&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_devices_8c.html#a2">rdReg32</a> (<a class="el" href="struct_p_c_i_e___board.html">pcie_board_t</a> *pBrd, ULONG offset)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_devices_8c.html#a3">wrReg8</a> (<a class="el" href="struct_p_c_i_e___board.html">pcie_board_t</a> *pBrd, ULONG offset, UCHAR val)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_devices_8c.html#a4">wrReg16</a> (<a class="el" href="struct_p_c_i_e___board.html">pcie_board_t</a> *pBrd, ULONG offset, USHORT val)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_devices_8c.html#a5">wrReg32</a> (<a class="el" href="struct_p_c_i_e___board.html">pcie_board_t</a> *pBrd, ULONG offset, ULONG val)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_devices_8c.html#a6">ReadPCIConfigRegs</a> (<a class="el" href="struct_p_c_i_e___board.html">pcie_board_t</a> *pBrd)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_devices_8c.html#a7">ParsePCIeLinkCap</a> (<a class="el" href="struct_p_c_i_e___board.html">pcie_board_t</a> *pBrd)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_devices_8c.html#a8">GPIO_Setup</a> (<a class="el" href="struct_p_c_i_e___board.html">pcie_board_t</a> *pBrd)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_devices_8c.html#a9">IntrCtrl_Setup</a> (<a class="el" href="struct_p_c_i_e___board.html">pcie_board_t</a> *pBrd)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_devices_8c.html#a10">SGDMA_Init</a> (<a class="el" href="struct_p_c_i_e___board.html">pcie_board_t</a> *pBrd)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_devices_8c.html#a11">SGDMA_Disable</a> (<a class="el" href="struct_p_c_i_e___board.html">pcie_board_t</a> *pBrd)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_devices_8c.html#a12">SGDMA_EnableChan</a> (<a class="el" href="struct_p_c_i_e___board.html">pcie_board_t</a> *pBrd, ULONG chan, ULONG startBD)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_devices_8c.html#a13">SGDMA_DisableChan</a> (<a class="el" href="struct_p_c_i_e___board.html">pcie_board_t</a> *pBrd, ULONG chan)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_devices_8c.html#a14">SGDMA_ConfigWrite</a> (<a class="el" href="struct_p_c_i_e___board.html">pcie_board_t</a> *pBrd, ULONG chan, ULONG nBDs, struct scatterlist *pSGlist, ULONG burstSize)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_devices_8c.html#a15">SGDMA_ConfigRead</a> (<a class="el" href="struct_p_c_i_e___board.html">pcie_board_t</a> *pBrd, ULONG chan, ULONG nBDs, struct scatterlist *pSGlist, ULONG burstSize)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_devices_8c.html#a16">SGDMA_StartWriteChan</a> (<a class="el" href="struct_p_c_i_e___board.html">pcie_board_t</a> *pBrd)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_devices_8c.html#a17">SGDMA_StartReadChan</a> (<a class="el" href="struct_p_c_i_e___board.html">pcie_board_t</a> *pBrd)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>

<p>
Definition in file <a class="el" href="_devices_8c-source.html">Devices.c</a>.<hr><h2>Function Documentation</h2>
<a class="anchor" name="a8" doxytag="Devices.c::GPIO_Setup"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int GPIO_Setup           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct_p_c_i_e___board.html">pcie_board_t</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pBrd</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initialize the GPIO IP module. Disable counter circuits and DMA triggers. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pBrd</em>&nbsp;</td><td>pointer to device extension to get hardware BAR address </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_devices_8c-source.html#l00335">335</a> of file <a class="el" href="_devices_8c-source.html">Devices.c</a>.
<p>
References <a class="el" href="_devices_8h-source.html#l00092">GPIO</a>, <a class="el" href="lscdma_8h.html#a23">pcie_board_t</a>, <a class="el" href="_devices_8c-source.html#l00064">rdReg32()</a>, and <a class="el" href="_devices_8c-source.html#l00114">wrReg32()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="Devices.c::IntrCtrl_Setup"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int IntrCtrl_Setup           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct_p_c_i_e___board.html">pcie_board_t</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pBrd</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initialize Interrupt Controller IP module. Disable all interrupts globally and mask all sources. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pBrd</em>&nbsp;</td><td>pointer to device extension to get hardware BAR address </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_devices_8c-source.html#l00364">364</a> of file <a class="el" href="_devices_8c-source.html">Devices.c</a>.
<p>
References <a class="el" href="_devices_8h-source.html#l00092">GPIO</a>, <a class="el" href="lscdma_8h.html#a23">pcie_board_t</a>, <a class="el" href="_devices_8c-source.html#l00064">rdReg32()</a>, and <a class="el" href="_devices_8c-source.html#l00114">wrReg32()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="Devices.c::ParsePCIeLinkCap"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int ParsePCIeLinkCap           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct_p_c_i_e___board.html">pcie_board_t</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pBrd</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Process the pre-loaded PCI Config Space 0 registers and extract the PCIe link capabilities from it. The link info is set into the PCIeMaxPayloadSize, PCIeMaxReadReqSize, PCIeLinkWidth and PCIeRCBSize varaibles in the device extension. <dl compact><dt><b>Note:</b></dt><dd>This function requires the PciCfg buf to have been loaded by a call to <a class="el" href="_devices_8c.html#a6">ReadPCIConfigRegs()</a>, which is normally done at the very beginning of StartDevice. </dd></dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if PCIE Cpabailties structure was found and parsed false if errors in parsing. </dd></dl>

<p>
Definition at line <a class="el" href="_devices_8c-source.html#l00182">182</a> of file <a class="el" href="_devices_8c-source.html">Devices.c</a>.
<p>
References <a class="el" href="lscdma_8h-source.html#l00249">PCIE_Board::PCICfgRegs</a>, <a class="el" href="lscdma_8h.html#a23">pcie_board_t</a>, <a class="el" href="lscdma_8h-source.html#l00248">PCIE_Board::PCIeLinkWidth</a>, <a class="el" href="lscdma_8h-source.html#l00245">PCIE_Board::PCIeMaxPayloadSize</a>, <a class="el" href="lscdma_8h-source.html#l00246">PCIE_Board::PCIeMaxReadReqSize</a>, <a class="el" href="lscdma_8h-source.html#l00247">PCIE_Board::PCIeRCBSize</a>, and <a class="el" href="_devices_8c-source.html#l00137">ReadPCIConfigRegs()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="Devices.c::rdReg16"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">USHORT rdReg16           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct_p_c_i_e___board.html">pcie_board_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>pBrd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>offset</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read a 16 bit hardware register and return the word. <dl compact><dt><b>Note:</b></dt><dd>No parameter checking is done. The caller is responsible for ensuring the hardware is still mapped (i.e. device state != stopped or removed) and valid. The goal is speed here.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pBrd</em>&nbsp;</td><td>pointer to the Board to get hardware BAR address </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>in board's mapped control BAR to read from </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>16 bit value read from the hardware register </dd></dl>

<p>
Definition at line <a class="el" href="_devices_8c-source.html#l00045">45</a> of file <a class="el" href="_devices_8c-source.html">Devices.c</a>.
<p>
References <a class="el" href="lscdma_8h-source.html#l00267">PCIE_Board::ctrlBARaddr</a>, and <a class="el" href="lscdma_8h.html#a23">pcie_board_t</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="Devices.c::rdReg32"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">ULONG rdReg32           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct_p_c_i_e___board.html">pcie_board_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>pBrd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>offset</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read a 32 bit hardware register and return the word. <dl compact><dt><b>Note:</b></dt><dd>No parameter checking is done. The caller is responsible for ensuring the hardware is still mapped (i.e. device state != stopped or removed) and valid. The goal is speed here.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pBrd</em>&nbsp;</td><td>pointer to the Board to get hardware BAR address </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>in board's mapped control BAR to read from </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>32 bit value read from the hardware register </dd></dl>

<p>
Definition at line <a class="el" href="_devices_8c-source.html#l00064">64</a> of file <a class="el" href="_devices_8c-source.html">Devices.c</a>.
<p>
References <a class="el" href="lscdma_8h-source.html#l00267">PCIE_Board::ctrlBARaddr</a>, and <a class="el" href="lscdma_8h.html#a23">pcie_board_t</a>.
<p>
Referenced by <a class="el" href="_devices_8c-source.html#l00335">GPIO_Setup()</a>, <a class="el" href="_devices_8c-source.html#l00364">IntrCtrl_Setup()</a>, <a class="el" href="_devices_8c-source.html#l00598">SGDMA_ConfigRead()</a>, <a class="el" href="_devices_8c-source.html#l00524">SGDMA_ConfigWrite()</a>, <a class="el" href="_devices_8c-source.html#l00490">SGDMA_DisableChan()</a>, <a class="el" href="_devices_8c-source.html#l00457">SGDMA_EnableChan()</a>, <a class="el" href="_devices_8c-source.html#l00683">SGDMA_StartReadChan()</a>, and <a class="el" href="_devices_8c-source.html#l00663">SGDMA_StartWriteChan()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a0" doxytag="Devices.c::rdReg8"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">UCHAR rdReg8           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct_p_c_i_e___board.html">pcie_board_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>pBrd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>offset</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read a 8 bit hardware register and return the word. <dl compact><dt><b>Note:</b></dt><dd>No parameter checking is done. The caller is responsible for ensuring the hardware is still mapped (i.e. device state != stopped or removed) and valid. The goal is speed here.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pBrd</em>&nbsp;</td><td>pointer to the Board to get hardware BAR address </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>in board's mapped control BAR to read from </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>8 bit value read from the hardware register </dd></dl>

<p>
Definition at line <a class="el" href="_devices_8c-source.html#l00026">26</a> of file <a class="el" href="_devices_8c-source.html">Devices.c</a>.
<p>
References <a class="el" href="lscdma_8h-source.html#l00267">PCIE_Board::ctrlBARaddr</a>, and <a class="el" href="lscdma_8h.html#a23">pcie_board_t</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="Devices.c::ReadPCIConfigRegs"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int ReadPCIConfigRegs           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct_p_c_i_e___board.html">pcie_board_t</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pBrd</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read the 256 bytes of PCI Cfg0 register space from the device hardware. The register data is saved in the Device Extension PCICfgRegs array. 
<p>
Definition at line <a class="el" href="_devices_8c-source.html#l00137">137</a> of file <a class="el" href="_devices_8c-source.html">Devices.c</a>.
<p>
References <a class="el" href="lscdma_8h-source.html#l00249">PCIE_Board::PCICfgRegs</a>, <a class="el" href="lscdma_8h.html#a23">pcie_board_t</a>, and <a class="el" href="lscdma_8h-source.html#l00272">PCIE_Board::pPciDev</a>.
<p>
Referenced by <a class="el" href="_devices_8c-source.html#l00182">ParsePCIeLinkCap()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a15" doxytag="Devices.c::SGDMA_ConfigRead"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void SGDMA_ConfigRead           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct_p_c_i_e___board.html">pcie_board_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>pBrd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>chan</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>nBDs</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>struct scatterlist *&nbsp;</td>
          <td class="mdname" nowrap> <em>pSGlist</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>burstSize</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Configure the Channel to do a read from the PC using a Scatter Gather list. This setups up the buffer descriptors. <a class="el" href="_devices_8c.html#a12">SGDMA_EnableChan()</a> should be called before this to setup the channel for transfer. Finally call <a class="el" href="_devices_8c.html#a17">SGDMA_StartReadChan()</a> to start the transfer.<p>
<dl compact><dt><b>Note:</b></dt><dd>The channel must have a valid start BD programed into its config register before calling this function. This function uses that register value to locate the BDs to configure.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pBrd</em>&nbsp;</td><td>pointer to device extension to get hardware BAR address </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>chan</em>&nbsp;</td><td>the SGDMA channel number to setup for MRd to PC </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nBDs</em>&nbsp;</td><td>number of buffer descriptors this channel can use, 256 max </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pSGlist</em>&nbsp;</td><td>the PC mapping of virtual memory pages, destination of MWr </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>burstSize</em>&nbsp;</td><td>the max MWr TLP payload size, normally 128 bytes </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_devices_8c-source.html#l00598">598</a> of file <a class="el" href="_devices_8c-source.html">Devices.c</a>.
<p>
References <a class="el" href="lscdma_8h-source.html#l00122">DevMemParams_t::addrMode</a>, <a class="el" href="lscdma_8h-source.html#l00120">DevMemParams_t::baseAddr</a>, <a class="el" href="lscdma_8h-source.html#l00177">SGDMAOperations_t::Chan</a>, <a class="el" href="lscdma_8h-source.html#l00121">DevMemParams_t::dataWidth</a>, <a class="el" href="lscdma_8h-source.html#l00148">DMAChannel_t::DevMem</a>, <a class="el" href="lscdma_8h.html#a23">pcie_board_t</a>, <a class="el" href="_devices_8c-source.html#l00064">rdReg32()</a>, <a class="el" href="_devices_8h-source.html#l00093">SGDMA</a>, <a class="el" href="lscdma_8h-source.html#l00278">PCIE_Board::SGDMA</a>, <a class="el" href="_devices_8h-source.html#l00099">WB</a>, and <a class="el" href="_devices_8c-source.html#l00114">wrReg32()</a>.
<p>
Referenced by <a class="el" href="_d_m_a_8c-source.html#l00065">StartDmaRead()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a14" doxytag="Devices.c::SGDMA_ConfigWrite"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void SGDMA_ConfigWrite           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct_p_c_i_e___board.html">pcie_board_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>pBrd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>chan</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>nBDs</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>struct scatterlist *&nbsp;</td>
          <td class="mdname" nowrap> <em>pSGlist</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>burstSize</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Configure the Channel to do a write to PC using a Scatter Gather list. This setups up the buffer descriptors. <a class="el" href="_devices_8c.html#a12">SGDMA_EnableChan()</a> should be called before this to setup the channel for transfer. Finally call <a class="el" href="_devices_8c.html#a16">SGDMA_StartWriteChan()</a> to start the transfer.<p>
<dl compact><dt><b>Note:</b></dt><dd>The channel must have a valid start BD programed into its config register before calling this function. This function uses that register value to locate the BDs to configure.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pBrd</em>&nbsp;</td><td>pointer to device extension to get hardware BAR address </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>chan</em>&nbsp;</td><td>the SGDMA channel number to setup for MWr to PC </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nBDs</em>&nbsp;</td><td>number of buffer descriptors this channel can use, 256 max </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pSGlist</em>&nbsp;</td><td>the PC mapping of virtual memory pages, destination of MWr </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>burstSize</em>&nbsp;</td><td>the max MWr TLP payload size, normally 128 bytes </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_devices_8c-source.html#l00524">524</a> of file <a class="el" href="_devices_8c-source.html">Devices.c</a>.
<p>
References <a class="el" href="lscdma_8h-source.html#l00122">DevMemParams_t::addrMode</a>, <a class="el" href="lscdma_8h-source.html#l00120">DevMemParams_t::baseAddr</a>, <a class="el" href="lscdma_8h-source.html#l00177">SGDMAOperations_t::Chan</a>, <a class="el" href="lscdma_8h-source.html#l00121">DevMemParams_t::dataWidth</a>, <a class="el" href="lscdma_8h-source.html#l00148">DMAChannel_t::DevMem</a>, <a class="el" href="lscdma_8h.html#a23">pcie_board_t</a>, <a class="el" href="_devices_8c-source.html#l00064">rdReg32()</a>, <a class="el" href="_devices_8h-source.html#l00093">SGDMA</a>, <a class="el" href="lscdma_8h-source.html#l00278">PCIE_Board::SGDMA</a>, <a class="el" href="_devices_8h-source.html#l00099">WB</a>, and <a class="el" href="_devices_8c-source.html#l00114">wrReg32()</a>.
<p>
Referenced by <a class="el" href="_d_m_a_8c-source.html#l00024">StartDmaWrite()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a11" doxytag="Devices.c::SGDMA_Disable"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void SGDMA_Disable           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct_p_c_i_e___board.html">pcie_board_t</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pBrd</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Disable the SGDMA core. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pBrd</em>&nbsp;</td><td>pointer to device extension to get hardware BAR address </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_devices_8c-source.html#l00439">439</a> of file <a class="el" href="_devices_8c-source.html">Devices.c</a>.
<p>
References <a class="el" href="lscdma_8h.html#a23">pcie_board_t</a>, <a class="el" href="_devices_8h-source.html#l00093">SGDMA</a>, and <a class="el" href="_devices_8c-source.html#l00114">wrReg32()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a13" doxytag="Devices.c::SGDMA_DisableChan"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void SGDMA_DisableChan           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct_p_c_i_e___board.html">pcie_board_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>pBrd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>chan</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Clear bits in the global registers in the SGDMA to disable a specific channel. Preserve other bit settings.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pBrd</em>&nbsp;</td><td>pointer to device extension to get hardware BAR address </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>chan</em>&nbsp;</td><td>the DMA channel to configure </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_devices_8c-source.html#l00490">490</a> of file <a class="el" href="_devices_8c-source.html">Devices.c</a>.
<p>
References <a class="el" href="lscdma_8h.html#a23">pcie_board_t</a>, <a class="el" href="_devices_8c-source.html#l00064">rdReg32()</a>, <a class="el" href="_devices_8h-source.html#l00093">SGDMA</a>, and <a class="el" href="_devices_8c-source.html#l00114">wrReg32()</a>.
<p>
Referenced by <a class="el" href="_main_8c-source.html#l01211">lscdma_read()</a>, <a class="el" href="_main_8c-source.html#l00848">lscdma_release()</a>, and <a class="el" href="_main_8c-source.html#l01305">lscdma_write()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a12" doxytag="Devices.c::SGDMA_EnableChan"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void SGDMA_EnableChan           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct_p_c_i_e___board.html">pcie_board_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>pBrd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>chan</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>startBD</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Configure the global registers in the SGDMA for a specific channel. Preserve other bit settings. Enable channel after its setup.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pBrd</em>&nbsp;</td><td>pointer to device extension to get hardware BAR address </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>chan</em>&nbsp;</td><td>the DMA channel to configure </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>startBD</em>&nbsp;</td><td>the buffer descriptor this channel starts at </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_devices_8c-source.html#l00457">457</a> of file <a class="el" href="_devices_8c-source.html">Devices.c</a>.
<p>
References <a class="el" href="lscdma_8h.html#a23">pcie_board_t</a>, <a class="el" href="_devices_8c-source.html#l00064">rdReg32()</a>, <a class="el" href="_devices_8h-source.html#l00093">SGDMA</a>, and <a class="el" href="_devices_8c-source.html#l00114">wrReg32()</a>.
<p>
Referenced by <a class="el" href="_d_m_a_8c-source.html#l00065">StartDmaRead()</a>, and <a class="el" href="_d_m_a_8c-source.html#l00024">StartDmaWrite()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="Devices.c::SGDMA_Init"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int SGDMA_Init           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct_p_c_i_e___board.html">pcie_board_t</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pBrd</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Configure the global registers in the SGDMA for this specific hardware design. Chan0 = write, Chan1-4 = reads<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pBrd</em>&nbsp;</td><td>pointer to device extension to get hardware BAR address </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_devices_8c-source.html#l00408">408</a> of file <a class="el" href="_devices_8c-source.html">Devices.c</a>.
<p>
References <a class="el" href="lscdma_8h.html#a23">pcie_board_t</a>, <a class="el" href="_devices_8h-source.html#l00093">SGDMA</a>, and <a class="el" href="_devices_8c-source.html#l00114">wrReg32()</a>.
<p>
Referenced by <a class="el" href="_main_8c-source.html#l00564">lscdma_open()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a17" doxytag="Devices.c::SGDMA_StartReadChan"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool SGDMA_StartReadChan           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct_p_c_i_e___board.html">pcie_board_t</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pBrd</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Enable SGDMA Read interrupts and trigger the transfer. This is a critical section of code, and is held by the hdwAccess spinlock so only one thread at a time can modify the Interrupt controller enable register. 
<p>
Definition at line <a class="el" href="_devices_8c-source.html#l00683">683</a> of file <a class="el" href="_devices_8c-source.html">Devices.c</a>.
<p>
References <a class="el" href="_devices_8h-source.html#l00092">GPIO</a>, <a class="el" href="lscdma_8h.html#a23">pcie_board_t</a>, <a class="el" href="_devices_8c-source.html#l00064">rdReg32()</a>, and <a class="el" href="_devices_8c-source.html#l00114">wrReg32()</a>.
<p>
Referenced by <a class="el" href="_d_m_a_8c-source.html#l00065">StartDmaRead()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a16" doxytag="Devices.c::SGDMA_StartWriteChan"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool SGDMA_StartWriteChan           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct_p_c_i_e___board.html">pcie_board_t</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pBrd</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Enable SGDMA Write interrupts and trigger the transfer. This is a critical section of code, and is held by the HdwAccess spinlock so only one thread at a time can modify the Interrupt controller enable register. 
<p>
Definition at line <a class="el" href="_devices_8c-source.html#l00663">663</a> of file <a class="el" href="_devices_8c-source.html">Devices.c</a>.
<p>
References <a class="el" href="_devices_8h-source.html#l00092">GPIO</a>, <a class="el" href="lscdma_8h.html#a23">pcie_board_t</a>, <a class="el" href="_devices_8c-source.html#l00064">rdReg32()</a>, and <a class="el" href="_devices_8c-source.html#l00114">wrReg32()</a>.
<p>
Referenced by <a class="el" href="_d_m_a_8c-source.html#l00024">StartDmaWrite()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="Devices.c::wrReg16"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void wrReg16           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct_p_c_i_e___board.html">pcie_board_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>pBrd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>USHORT&nbsp;</td>
          <td class="mdname" nowrap> <em>val</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Write a 16 bit value to a hardware register. <dl compact><dt><b>Note:</b></dt><dd>No parameter checking is done. The caller is responsible for ensuring the hardware is still mapped (i.e. device state != stopped or removed) and valid.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pBrd</em>&nbsp;</td><td>pointer to Board to get hardware BAR address </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>in the board's mapped control BAR to write to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>val</em>&nbsp;</td><td>the 16 bit value to write </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_devices_8c-source.html#l00099">99</a> of file <a class="el" href="_devices_8c-source.html">Devices.c</a>.
<p>
References <a class="el" href="lscdma_8h-source.html#l00267">PCIE_Board::ctrlBARaddr</a>, and <a class="el" href="lscdma_8h.html#a23">pcie_board_t</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="Devices.c::wrReg32"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void wrReg32           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct_p_c_i_e___board.html">pcie_board_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>pBrd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>val</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Write a 32 bit value to a hardware register. <dl compact><dt><b>Note:</b></dt><dd>No parameter checking is done. The caller is responsible for ensuring the hardware is still mapped (i.e. device state != stopped or removed) and valid.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pBrd</em>&nbsp;</td><td>pointer to Board to get hardware BAR address </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>in the board's mapped control BAR to write to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>val</em>&nbsp;</td><td>the long value to write </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_devices_8c-source.html#l00114">114</a> of file <a class="el" href="_devices_8c-source.html">Devices.c</a>.
<p>
References <a class="el" href="lscdma_8h-source.html#l00267">PCIE_Board::ctrlBARaddr</a>, and <a class="el" href="lscdma_8h.html#a23">pcie_board_t</a>.
<p>
Referenced by <a class="el" href="_devices_8c-source.html#l00335">GPIO_Setup()</a>, <a class="el" href="_devices_8c-source.html#l00364">IntrCtrl_Setup()</a>, <a class="el" href="_main_8c-source.html#l00564">lscdma_open()</a>, <a class="el" href="_main_8c-source.html#l00848">lscdma_release()</a>, <a class="el" href="_devices_8c-source.html#l00598">SGDMA_ConfigRead()</a>, <a class="el" href="_devices_8c-source.html#l00524">SGDMA_ConfigWrite()</a>, <a class="el" href="_devices_8c-source.html#l00439">SGDMA_Disable()</a>, <a class="el" href="_devices_8c-source.html#l00490">SGDMA_DisableChan()</a>, <a class="el" href="_devices_8c-source.html#l00457">SGDMA_EnableChan()</a>, <a class="el" href="_devices_8c-source.html#l00408">SGDMA_Init()</a>, <a class="el" href="_devices_8c-source.html#l00683">SGDMA_StartReadChan()</a>, and <a class="el" href="_devices_8c-source.html#l00663">SGDMA_StartWriteChan()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="Devices.c::wrReg8"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void wrReg8           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct_p_c_i_e___board.html">pcie_board_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>pBrd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>UCHAR&nbsp;</td>
          <td class="mdname" nowrap> <em>val</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Write a 8 bit value to a hardware register. <dl compact><dt><b>Note:</b></dt><dd>No parameter checking is done. The caller is responsible for ensuring the hardware is still mapped (i.e. device state != stopped or removed) and valid.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pBrd</em>&nbsp;</td><td>pointer to Board to get hardware BAR address </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>in the board's mapped control BAR to write to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>val</em>&nbsp;</td><td>the 8 bit value to write </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_devices_8c-source.html#l00082">82</a> of file <a class="el" href="_devices_8c-source.html">Devices.c</a>.
<p>
References <a class="el" href="lscdma_8h-source.html#l00267">PCIE_Board::ctrlBARaddr</a>, and <a class="el" href="lscdma_8h.html#a23">pcie_board_t</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Wed Jul 16 12:05:24 2008 for Lattice PCIeDMA Device Driver  by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
