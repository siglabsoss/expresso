<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Lattice PCIeDMA Device Driver : ISR.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>ISR.c File Reference</h1><code>#include "<a class="el" href="lscdma_8h-source.html">lscdma.h</a>"</code><br>

<p>
<a href="_i_s_r_8c-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i_s_r_8c.html#a0">IsrDisableInterrupts</a> (<a class="el" href="struct_p_c_i_e___board.html">pcie_board_t</a> *pBrd)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i_s_r_8c.html#a1">IsrEnableInterrupts</a> (<a class="el" href="struct_p_c_i_e___board.html">pcie_board_t</a> *pBrd)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">irqreturn_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i_s_r_8c.html#a2">lscdma_ISR</a> (int irq, void *dev_id, struct pt_regs *regs)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i_s_r_8c.html#a3">lscdma_isr_tasklet</a> (unsigned long arg)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>

<p>
Definition in file <a class="el" href="_i_s_r_8c-source.html">ISR.c</a>.<hr><h2>Function Documentation</h2>
<a class="anchor" name="a0" doxytag="ISR.c::IsrDisableInterrupts"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool IsrDisableInterrupts           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct_p_c_i_e___board.html">pcie_board_t</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pBrd</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
IsrDisableInterrupts: Disable device interrupts 
<p>
Definition at line <a class="el" href="_i_s_r_8c-source.html#l00059">59</a> of file <a class="el" href="_i_s_r_8c-source.html">ISR.c</a>.
<p>
Referenced by <a class="el" href="_main_8c-source.html#l00564">lscdma_open()</a>, and <a class="el" href="_main_8c-source.html#l00848">lscdma_release()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="ISR.c::IsrEnableInterrupts"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool IsrEnableInterrupts           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct_p_c_i_e___board.html">pcie_board_t</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pBrd</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Enable device interrupts by setting the Global output enable bit in the interrupt controller. 
<p>
Definition at line <a class="el" href="_i_s_r_8c-source.html#l00076">76</a> of file <a class="el" href="_i_s_r_8c-source.html">ISR.c</a>.
<p>
Referenced by <a class="el" href="_main_8c-source.html#l00564">lscdma_open()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="ISR.c::lscdma_ISR"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">irqreturn_t lscdma_ISR           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>irq</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>dev_id</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>struct pt_regs *&nbsp;</td>
          <td class="mdname" nowrap> <em>regs</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The ISR that is invoked by the kernel in interrupt context when the interrupt line is active (as attached in to the IRQ in open()). The only job is to verify that our board is generating the interrupt and then signal the bottom-half to run in regular kernel context and process the interrupt. 
<p>
Definition at line <a class="el" href="_i_s_r_8c-source.html#l00094">94</a> of file <a class="el" href="_i_s_r_8c-source.html">ISR.c</a>.
<p>
Referenced by <a class="el" href="_main_8c-source.html#l00564">lscdma_open()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="ISR.c::lscdma_isr_tasklet"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void lscdma_isr_tasklet           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned long&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>arg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This is scheduled to run by the ISR and is run in the kernel context. It then triggers any process(es) waiting on the ISR to have happened. 
<p>
Definition at line <a class="el" href="_i_s_r_8c-source.html#l00139">139</a> of file <a class="el" href="_i_s_r_8c-source.html">ISR.c</a>.
<p>
Referenced by <a class="el" href="_main_8c-source.html#l00564">lscdma_open()</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Wed Jul 16 12:05:24 2008 for Lattice PCIeDMA Device Driver  by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
